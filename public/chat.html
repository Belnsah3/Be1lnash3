<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–∞—Ç - LumeAI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --primary: 263 70% 50%;
            --background: 240 10% 3.9%;
            --foreground: 0 0% 98%;
            --card: 240 10% 3.9%;
            --border: 240 3.7% 15.9%;
            --muted: 240 3.7% 15.9%;
            --muted-foreground: 240 5% 64.9%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            margin: 0;
            height: 100vh;
            overflow: hidden;
        }

        .chat-container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 260px;
            background: hsl(var(--card));
            border-right: 1px solid hsl(var(--border));
            display: flex;
            flex-direction: column;
        }

        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 16px 24px;
            border-bottom: 1px solid hsl(var(--border));
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }

        .message {
            margin-bottom: 24px;
            display: flex;
            gap: 12px;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .message.assistant .message-avatar {
            background: hsl(var(--muted));
            color: hsl(var(--foreground));
        }

        .message-content {
            flex: 1;
            line-height: 1.6;
        }

        .message-content pre {
            background: hsl(var(--muted));
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 12px 0;
        }

        .message-content code {
            background: hsl(var(--muted));
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 14px;
        }

        .message-content pre code {
            background: none;
            padding: 0;
        }

        .chat-input-container {
            padding: 24px;
            border-top: 1px solid hsl(var(--border));
        }

        .chat-input-wrapper {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
        }

        .chat-input {
            width: 100%;
            padding: 16px 120px 16px 16px;
            border: 2px solid hsl(var(--border));
            border-radius: 12px;
            background: hsl(var(--card));
            color: hsl(var(--foreground));
            font-size: 15px;
            resize: none;
            min-height: 56px;
            max-height: 200px;
        }

        .chat-input:focus {
            outline: none;
            border-color: hsl(var(--primary));
        }

        .send-btn {
            position: absolute;
            right: 8px;
            bottom: 8px;
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .conversation-item {
            padding: 12px 16px;
            margin: 4px 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .conversation-item:hover {
            background: hsl(var(--muted));
        }

        .conversation-item.active {
            background: hsl(var(--primary));
            color: white;
        }

        .model-selector {
            padding: 12px 16px;
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
            background: hsl(var(--card));
            color: hsl(var(--foreground));
            cursor: pointer;
            font-size: 14px;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 8px 0;
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: hsl(var(--muted-foreground));
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .new-chat-btn {
            margin: 16px;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .new-chat-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="p-4 border-b border-gray-700">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center text-white font-bold">
                        L
                    </div>
                    <span class="text-xl font-bold">LumeAI</span>
                </div>
            </div>

            <button class="new-chat-btn" onclick="newChat()">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
                –ù–æ–≤—ã–π —á–∞—Ç
            </button>

            <div class="flex-1 overflow-y-auto">
                <div class="px-4 py-2 text-xs font-semibold text-gray-400 uppercase">–ò—Å—Ç–æ—Ä–∏—è</div>
                <div id="conversationsList">
                    <div class="conversation-item active">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                        </svg>
                        <span class="text-sm">–ù–æ–≤—ã–π —á–∞—Ç</span>

            .message-content pre code {
                background: none;
                padding: 0;
            }

            .chat-input-container {
                padding: 24px;
                border-top: 1px solid hsl(var(--border));
            }

            .chat-input-wrapper {
                position: relative;
                max-width: 900px;
                margin: 0 auto;
            }

            .chat-input {
                width: 100%;
                padding: 16px 120px 16px 16px;
                border: 2px solid hsl(var(--border));
                border-radius: 12px;
                background: hsl(var(--card));
                color: hsl(var(--foreground));
                font-size: 15px;
                resize: none;
                min-height: 56px;
                max-height: 200px;
            }

            .chat-input:focus {
                outline: none;
                border-color: hsl(var(--primary));
            }

            .send-btn {
                position: absolute;
                right: 8px;
                bottom: 8px;
                padding: 12px 24px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.2s;
            }

            .send-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
            }

            .send-btn:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

            .conversation-item {
                padding: 12px 16px;
                margin: 4px 8px;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.2s;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .conversation-item:hover {
                background: hsl(var(--muted));
            }

            .conversation-item.active {
                background: hsl(var(--primary));
                color: white;
            }

            .model-selector {
                padding: 12px 16px;
                border: 1px solid hsl(var(--border));
                border-radius: 8px;
                background: hsl(var(--card));
                color: hsl(var(--foreground));
                cursor: pointer;
                font-size: 14px;
            }

            .typing-indicator {
                display: flex;
                gap: 4px;
                padding: 8px 0;
            }

            .typing-indicator span {
                width: 8px;
                height: 8px;
                background: hsl(var(--muted-foreground));
                border-radius: 50%;
                animation: typing 1.4s infinite;
            }

            .typing-indicator span:nth-child(2) {
                animation-delay: 0.2s;
            }

            .typing-indicator span:nth-child(3) {
                animation-delay: 0.4s;
            }

            @keyframes typing {
                0%, 60%, 100% {
                    transform: translateY(0);
                }
                30% {
                    transform: translateY(-10px);
                }
            }

            .new-chat-btn {
                margin: 16px;
                padding: 12px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                font-weight: 600;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }

            .new-chat-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
            }
        </style>
    </head>
    <body>
        <div class="chat-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="p-4 border-b border-gray-700">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center text-white font-bold">
                            L
                        </div>
                        <span class="text-xl font-bold">LumeAI</span>
                    </div>
                </div>

                <button class="new-chat-btn" onclick="newChat()">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                    </svg>
                    –ù–æ–≤—ã–π —á–∞—Ç
                </button>
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="chat-main">
            <!-- Header -->
            <header class="chat-header">
                <div class="flex items-center gap-4">
                    <select class="model-selector" id="modelSelector">
                        <option value="gpt-4">GPT-4</option>
                        <option value="gpt-4o">GPT-4o</option>
                        <option value="claude-sonnet">Claude Sonnet 4.5</option>
                        <option value="claude-haiku">Claude Haiku 4.5</option>
                        <option value="gemini-flash">Gemini 2.5 Flash</option>
                        <option value="gemini-pro">Gemini 2.5 Pro</option>
                    </select>
                    <span class="text-sm text-gray-400">128K –∫–æ–Ω—Ç–µ–∫—Å—Ç</span>
                </div>
                <div class="flex items-center gap-2">
                    <button class="p-2 hover:bg-gray-700 rounded-lg transition" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Messages -->
            <div class="chat-messages" id="chatMessages">
                <div class="text-center text-gray-400 py-12">
                    <div class="text-6xl mb-4">üí¨</div>
                    <h2 class="text-2xl font-bold mb-2">–ù–∞—á–Ω–∏—Ç–µ –Ω–æ–≤—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä</h2>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –∏ –∑–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å</p>
                </div>
            </div>

            <!-- Input -->
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <textarea 
                        id="chatInput" 
                        class="chat-input" 
                        placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ... (Shift+Enter –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)"
                        rows="1"
                        onkeydown="handleKeyPress(event)"
                    ></textarea>
                    <button class="send-btn" onclick="sendMessage()" id="sendBtn">
                        –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                    </button>
                </div>
                <div class="text-center text-xs text-gray-500 mt-2">
                    LumeAI –º–æ–∂–µ—Ç –¥–æ–ø—É—Å–∫–∞—Ç—å –æ—à–∏–±–∫–∏. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
                </div>
            </div>
        </main>
    </div>

    <script>
        let messages = [];
        let isTyping = false;

        // Handle Enter key
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // Auto-resize textarea
        const textarea = document.getElementById('chatInput');
        textarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 200) + 'px';
        });

        // Send message
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message || isTyping) return;
            
            // Add user message
            addMessage('user', message);
            input.value = '';
            input.style.height = 'auto';
            
            // Show typing indicator
            isTyping = true;
            document.getElementById('sendBtn').disabled = true;
            addTypingIndicator();
            
            // Simulate API call
            setTimeout(() => {
                removeTypingIndicator();
                const response = generateResponse(message);
                addMessage('assistant', response);
                isTyping = false;
                document.getElementById('sendBtn').disabled = false;
            }, 1500);
        }

        // Add message to chat
        function addMessage(role, content) {
            messages.push({ role, content });
            
            const messagesContainer = document.getElementById('chatMessages');
            
            // Remove empty state
            if (messages.length === 1) {
                messagesContainer.innerHTML = '';
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = role === 'user' ? '–í—ã' : 'AI';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            
            if (role === 'assistant') {
                contentDiv.innerHTML = marked.parse(content);
            } else {
                contentDiv.textContent = content;
            }
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Add typing indicator
        function addTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message assistant';
            typingDiv.id = 'typingIndicator';
            
            typingDiv.innerHTML = `
                <div class="message-avatar">AI</div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Remove typing indicator
        function removeTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        // Generate mock response
        function generateResponse(message) {
            const responses = [
                `–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –í–æ—Ç —á—Ç–æ —è –º–æ–≥—É –≤–∞–º —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å:\n\n**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**\n\n1. –ü–µ—Ä–≤—ã–π –≤–∞–∂–Ω—ã–π –ø—É–Ω–∫—Ç\n2. –í—Ç–æ—Ä–æ–π –≤–∞–∂–Ω—ã–π –ø—É–Ω–∫—Ç\n3. –¢—Ä–µ—Ç–∏–π –≤–∞–∂–Ω—ã–π –ø—É–Ω–∫—Ç\n\n–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏, —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ!`,
                `–Ø –ø–æ–Ω–∏–º–∞—é –≤–∞—à –≤–æ–ø—Ä–æ—Å. –í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç–≤–µ—Ç:\n\n\`\`\`javascript\nconst example = "–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞";\nconsole.log(example);\n\`\`\`\n\n–≠—Ç–æ—Ç –∫–æ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä.`,
                `–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –ø–æ —à–∞–≥–∞–º:\n\n- **–®–∞–≥ 1**: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã\n- **–®–∞–≥ 2**: –ü–æ–∏—Å–∫ —Ä–µ—à–µ–Ω–∏—è\n- **–®–∞–≥ 3**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è\n\n–ß—Ç–æ –≤—ã –¥—É–º–∞–µ—Ç–µ –æ–± —ç—Ç–æ–º –ø–æ–¥—Ö–æ–¥–µ?`
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // New chat
        function newChat() {
            messages = [];
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.innerHTML = `
                <div class="text-center text-gray-400 py-12">
                    <div class="text-6xl mb-4">üí¨</div>
                    <h2 class="text-2xl font-bold mb-2">–ù–∞—á–Ω–∏—Ç–µ –Ω–æ–≤—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä</h2>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –∏ –∑–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å</p>
                </div>
            `;
        }
    </script>
</body>
</html>
