<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard - LumeAI</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#1a1a1a;color:#fff;min-height:100vh}
.header{background:#2a2a2a;border-bottom:1px solid #3a3a3a;padding:0 30px;height:70px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100}
.logo{font-size:24px;font-weight:700;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.user-menu{display:flex;align-items:center;gap:20px}
.user-info{display:flex;align-items:center;gap:12px;padding:8px 16px;background:#3a3a3a;border-radius:10px}
.user-avatar{width:35px;height:35px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;font-weight:600}
.badge{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:4px 10px;border-radius:6px;font-size:11px;font-weight:600;text-transform:uppercase}
.container{max-width:1400px;margin:0 auto;padding:30px}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}
.stat-card{background:#2a2a2a;border:1px solid #3a3a3a;border-radius:15px;padding:25px;transition:all .3s}
.stat-card:hover{transform:translateY(-5px);box-shadow:0 10px 30px rgba(102,126,234,.2)}
.stat-icon{width:50px;height:50px;border-radius:12px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;font-size:24px;margin-bottom:15px}
.stat-label{color:#999;font-size:14px;margin-bottom:8px}
.stat-value{font-size:32px;font-weight:700;margin-bottom:5px}
.section{background:#2a2a2a;border:1px solid #3a3a3a;border-radius:15px;padding:30px;margin-bottom:30px}
.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px}
.section-title{font-size:22px;font-weight:600}
.btn{padding:12px 24px;border:none;border-radius:10px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:8px}
.btn-primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(102,126,234,.3)}
.btn-secondary{background:#3a3a3a;color:#fff}
.btn-secondary:hover{background:#4a4a4a}
.btn-danger{background:#ef4444;color:#fff}
.btn-danger:hover{background:#dc2626}
.table{width:100%;border-collapse:collapse}
.table th{text-align:left;padding:15px;color:#999;font-weight:600;font-size:13px;text-transform:uppercase;border-bottom:1px solid #3a3a3a}
.table td{padding:18px 15px;border-bottom:1px solid #3a3a3a}
.table tr:hover{background:#333}
.key-name{font-weight:600;color:#fff}
.key-value{font-family:'Courier New',monospace;color:#667eea;font-size:13px}
.status{padding:6px 12px;border-radius:6px;font-size:12px;font-weight:600}
.status-active{background:rgba(74,222,128,.2);color:#4ade80}
.status-inactive{background:rgba(239,68,68,.2);color:#ef4444}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:1000;align-items:center;justify-content:center}
.modal.active{display:flex}
.modal-content{background:#2a2a2a;border:1px solid #3a3a3a;border-radius:20px;padding:40px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px}
.modal-title{font-size:24px;font-weight:700}
.close-btn{background:none;border:none;color:#999;font-size:28px;cursor:pointer}
.close-btn:hover{color:#fff}
.form-group{margin-bottom:20px}
.form-group label{display:block;margin-bottom:8px;color:#999;font-weight:500;font-size:14px}
.form-group input{width:100%;padding:14px 16px;background:#1a1a1a;border:1px solid #3a3a3a;border-radius:10px;color:#fff;font-size:15px;transition:all .3s}
.form-group input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.1)}
.alert{padding:15px 20px;border-radius:10px;margin-bottom:20px;display:none}
.alert.success{background:rgba(74,222,128,.2);color:#4ade80;border:1px solid #4ade80}
.alert.error{background:rgba(239,68,68,.2);color:#ef4444;border:1px solid #ef4444}
.empty-state{text-align:center;padding:60px 20px;color:#666}
.empty-state-icon{font-size:64px;margin-bottom:20px;opacity:.5}
.tabs{display:flex;gap:10px;margin-bottom:25px;border-bottom:1px solid #3a3a3a}
.tab{padding:12px 24px;background:none;border:none;color:#999;font-size:15px;font-weight:600;cursor:pointer;border-bottom:2px solid transparent;transition:all .3s}
.tab.active{color:#667eea;border-bottom-color:#667eea}
.qr-container{text-align:center;padding:20px;background:#fff;border-radius:15px;margin:20px 0}
.qr-container img{max-width:250px;width:100%}
.loader{display:inline-block;width:16px;height:16px;border:2px solid #fff;border-radius:50%;border-top-color:transparent;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* üì± –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø */
@media(max-width:768px){
  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
  .container{padding:15px}
  
  /* –•–µ–¥–µ—Ä */
  .header{padding:0 15px;height:60px;flex-wrap:wrap}
  .logo{font-size:20px}
  .user-menu{gap:10px}
  .user-info{padding:6px 12px;gap:8px}
  .user-avatar{width:30px;height:30px;font-size:14px}
  .user-info>div{display:none} /* –°–∫—Ä—ã–≤–∞–µ–º –∏–º—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .btn{padding:10px 16px;font-size:13px}
  
  /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
  .stats-grid{grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:20px}
  .stat-card{padding:18px}
  .stat-icon{width:40px;height:40px;font-size:20px;margin-bottom:10px}
  .stat-label{font-size:12px;margin-bottom:6px}
  .stat-value{font-size:24px}
  
  /* –¢–∞–±—ã */
  .tabs{gap:5px;overflow-x:auto;-webkit-overflow-scrolling:touch;white-space:nowrap;padding-bottom:5px}
  .tabs::-webkit-scrollbar{height:3px}
  .tabs::-webkit-scrollbar-thumb{background:#667eea;border-radius:3px}
  .tab{padding:10px 16px;font-size:14px;flex-shrink:0}
  
  /* –°–µ–∫—Ü–∏–∏ */
  .section{padding:20px 15px;margin-bottom:20px}
  .section-header{flex-direction:column;align-items:flex-start;gap:15px}
  .section-title{font-size:18px}
  
  /* –¢–∞–±–ª–∏—Ü—ã */
  .table{font-size:13px}
  .table th,.table td{padding:12px 8px}
  .key-value{font-size:11px;word-break:break-all}
  
  /* –°–∫—Ä—ã–≤–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .table th:nth-child(3),.table td:nth-child(3){display:none} /* –õ–∏–º–∏—Ç */
  
  /* –ö–Ω–æ–ø–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ */
  .table .btn{padding:8px 12px;font-size:12px}
  
  /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
  .modal-content{padding:25px 20px;width:95%;max-width:none}
  .modal-title{font-size:20px}
  .form-group{margin-bottom:15px}
  .form-group input{padding:12px 14px;font-size:14px}
  
  /* QR –∫–æ–¥ */
  .qr-container img{max-width:200px}
  
  /* –ë–µ–π–¥–∂–∏ */
  .badge{font-size:10px;padding:3px 8px}
  .status{padding:5px 10px;font-size:11px}
  
  /* –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
  .empty-state{padding:40px 15px}
  .empty-state-icon{font-size:48px}
}

/* üì± –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã */
@media(max-width:480px){
  .stats-grid{grid-template-columns:1fr;gap:10px}
  .stat-card{padding:15px}
  .stat-value{font-size:28px}
  
  /* –•–µ–¥–µ—Ä –µ—â–µ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ */
  .header{height:auto;padding:10px 15px}
  .logo{margin-bottom:10px;width:100%}
  .user-menu{width:100%;justify-content:space-between}
  
  /* –¢–∞–±—ã –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ */
  .tabs{flex-direction:column;gap:8px;border-bottom:none}
  .tab{width:100%;text-align:left;border-bottom:1px solid #3a3a3a;border-left:2px solid transparent}
  .tab.active{border-left-color:#667eea;border-bottom-color:#3a3a3a}
  
  /* –¢–∞–±–ª–∏—Ü—ã - –∫–∞—Ä—Ç–æ—á–Ω—ã–π –≤–∏–¥ */
  .table thead{display:none}
  .table,.table tbody,.table tr,.table td{display:block;width:100%}
  .table tr{background:#2a2a2a;border:1px solid #3a3a3a;border-radius:10px;margin-bottom:15px;padding:15px}
  .table td{padding:8px 0;border:none;display:flex;justify-content:space-between;align-items:center}
  .table td:before{content:attr(data-label);font-weight:600;color:#999;margin-right:10px;flex-shrink:0}
  .table td:last-child{margin-top:10px;justify-content:flex-start;gap:8px}
}

/* üåô –õ–∞–Ω–¥—à–∞—Ñ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media(max-width:768px) and (orientation:landscape){
  .stats-grid{grid-template-columns:repeat(4,1fr)}
  .stat-card{padding:12px}
  .stat-icon{width:35px;height:35px;font-size:18px;margin-bottom:8px}
  .stat-label{font-size:11px}
  .stat-value{font-size:20px}
}

/* üé® –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media(max-width:768px){
  body{font-size:14px}
  h1,h2,h3{line-height:1.3}
  
  /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å –∫–ª–∏–∫–∞ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
  .btn,.tab{min-height:44px}
  
  /* –£–ª—É—á—à–∞–µ–º —Å–∫—Ä–æ–ª–ª */
  .modal-content{-webkit-overflow-scrolling:touch}
  
  /* –£–±–∏—Ä–∞–µ–º hover —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .stat-card:hover{transform:none;box-shadow:none}
  .btn-primary:hover{transform:none}
}
</style>
</head>
<body>
<div class="header">
<div class="logo">‚ú® LumeAI</div>
<div class="user-menu">
<div class="user-info">
<div class="user-avatar" id="user-avatar">A</div>
<div>
<div id="user-name" style="font-weight:600">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
<div id="user-role" style="font-size:12px;color:#999">user</div>
</div>
</div>
<button class="btn btn-primary" onclick="window.location.href='/chat'" style="margin-right: 10px;">üí¨ –ß–∞—Ç</button>
<button class="btn btn-secondary" onclick="window.location.href='/settings'" style="margin-right: 10px;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
<button class="btn btn-secondary" onclick="logout()">–í—ã—Ö–æ–¥</button>
</div>
</div>
<div class="container">
<div class="stats-grid">
<div class="stat-card">
<div class="stat-icon">üí¨</div>
<div class="stat-label">–ß–∞—Ç–æ–≤</div>
<div class="stat-value" id="stat-chats">0</div>
</div>
<div class="stat-card">
<div class="stat-icon">üìù</div>
<div class="stat-label">–°–æ–æ–±—â–µ–Ω–∏–π</div>
<div class="stat-value" id="stat-messages">0</div>
</div>
<div class="stat-card">
<div class="stat-icon">ü§ñ</div>
<div class="stat-label">–ú–æ–¥–µ–ª–µ–π</div>
<div class="stat-value" id="stat-models">0</div>
</div>
<div class="stat-card">
<div class="stat-icon">üìé</div>
<div class="stat-label">–§–∞–π–ª–æ–≤</div>
<div class="stat-value" id="stat-files">0</div>
</div>
</div>
<div class="tabs">
<button class="tab active" onclick="switchTab('chats')">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —á–∞—Ç—ã</button>
<button class="tab" onclick="switchTab('keys')">API –ö–ª—é—á–∏</button>
<button class="tab" onclick="switchTab('models')">–ú–æ–¥–µ–ª–∏</button>
<button class="tab" onclick="switchTab('settings')">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
</div>
<div id="chats-section" class="section">
<div class="section-header">
<h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —á–∞—Ç—ã</h2>
<button class="btn btn-primary" onclick="window.location.href='/chat'">‚ûï –ù–æ–≤—ã–π —á–∞—Ç</button>
</div>
<div id="chats-container">
<div class="empty-state">
<div class="empty-state-icon">üí¨</div>
<div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
</div>
</div>
</div>
<div id="keys-section" class="section" style="display:none">
<div class="section-header">
<h2 class="section-title">–ú–æ–∏ API –ö–ª—é—á–∏</h2>
<button class="btn btn-primary" onclick="openCreateKeyModal()">‚ûï –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á</button>
</div>
<div id="alert-keys" class="alert"></div>
<div id="keys-container">
<div class="empty-state">
<div class="empty-state-icon">üîë</div>
<div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
</div>
</div>
</div>
<div id="models-section" class="section" style="display:none">
<div class="section-header">
<h2 class="section-title">–î–æ—Å—Ç—É–ø–Ω—ã–µ –ú–æ–¥–µ–ª–∏</h2>
</div>
<div id="models-container"></div>
</div>
<div id="settings-section" class="section" style="display:none">
<div class="section-header">
<h2 class="section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
</div>
<div id="alert-settings" class="alert"></div>
<div style="margin-bottom:30px">
<h3 style="margin-bottom:15px">–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (2FA)</h3>
<p style="color:#999;margin-bottom:20px">–ó–∞—â–∏—Ç–∏—Ç–µ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç —Å –ø–æ–º–æ—â—å—é 2FA</p>
<div id="twofa-status">
<div class="empty-state">
<div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
</div>
</div>
</div>
</div>
</div>
<div id="create-key-modal" class="modal">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">–°–æ–∑–¥–∞—Ç—å API –ö–ª—é—á</h3>
<button class="close-btn" onclick="closeModal('create-key-modal')">&times;</button>
</div>
<div id="alert-modal" class="alert"></div>
<form onsubmit="createKey(event)">
<div class="form-group">
<label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
<input type="text" id="key-name" required placeholder="–ú–æ–π –ø—Ä–æ–µ–∫—Ç">
</div>
<div class="form-group">
<label>–õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤</label>
<input type="number" id="key-limit" value="1000" min="1">
<small style="color:#999">–î–ª—è –∞–¥–º–∏–Ω–∞ –ª–∏–º–∏—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</small>
</div>
<button type="submit" class="btn btn-primary" style="width:100%" id="create-key-btn">–°–æ–∑–¥–∞—Ç—å –∫–ª—é—á</button>
</form>
</div>
</div>
<div id="twofa-setup-modal" class="modal">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ 2FA</h3>
<button class="close-btn" onclick="closeModal('twofa-setup-modal')">&times;</button>
</div>
<div id="alert-2fa" class="alert"></div>
<div id="qr-step">
<p style="color:#999;margin-bottom:20px">–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥ –≤ Google Authenticator –∏–ª–∏ Authy</p>
<div id="qr-code-container" class="qr-container">
<div class="loader" style="margin:50px auto"></div>
</div>
<div class="form-group">
<label>–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤—Ä—É—á–Ω—É—é:</label>
<input type="text" id="manual-secret" readonly style="text-align:center;font-family:monospace">
</div>
<div class="form-group">
<label>–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥:</label>
<input type="text" id="verify-token" maxlength="6" pattern="[0-9]{6}" placeholder="123456" style="text-align:center;font-size:24px;letter-spacing:8px">
</div>
<button class="btn btn-primary" style="width:100%" onclick="verify2FA()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
</div>
</div>
</div>
<script src="/js/dashboard.js"></script>
</body>
</html>
